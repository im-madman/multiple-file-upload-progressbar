<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
<style>
#myBar {
    width: 10%;
    height: 30px;
    background-color: #4CAF50;
    text-align: center; /* To center it horizontally (if you want) */
    line-height: 30px; /* To center it vertically */
    color: white; 
}

#myProgress{

	width:300px;
}
</style>
</head>


<body>

<div id="myProgress">
  <div id="myBar">10%</div>
</div>

<input type='file' name='files' class='files'>
<button type='button' onclick='clickHandler()'> upload </button>

<script>

	 function clickHandler() {

	    var form = new FormData(); 
	    form.append("video", $(".files")[0].files[0]);

	    $.ajax({
	        url: 'server/upload.php',
	        type: 'POST',
	        dataType: 'json',
	        maxNumberOfFiles: 1,
	        autoUpload: false,
	        xhr: function() {
	            myXhr = $.ajaxSettings.xhr();
	            if (myXhr.upload) {
	                myXhr.upload.addEventListener('progress', progressHandlingFunction, false);
	            }
	            return myXhr;
	        },
	        success: function(result) {
	            console.log($.ajaxSettings.xhr().upload);

                $('#myBar').text('');
                $('#myBar').css("width", '0%');

	            alert('upload is done');

	        },
	        "error": function(x, y, z) {
	            alert("An error has occured:\n" + JSON.stringify(x) + "\n" + JSON.stringify(y) + "\n" + JSON.stringify(z));
	        },
	        data: form,
	        cache: false,
	        contentType: false,
	        processData: false
	    });
	}    

    function progressHandlingFunction(e) { // ***** I mean here. **** //
        if (e.lengthComputable) {

            var percentComplete = Math.round(e.loaded * 100 / e.total);
            // show progressbar styling here 
            $('#myBar').text(percentComplete.toString() + '%');
            $('#myBar').css("width",percentComplete.toString() + '%');
            
        }
    }

</script>
</body>